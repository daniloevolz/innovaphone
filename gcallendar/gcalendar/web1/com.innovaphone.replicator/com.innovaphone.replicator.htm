<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title>innovaphone SDK - contacts api</title>
    <link rel="stylesheet" href="../doc/innovaphone.doc.css" type="text/css" />
    <link rel="stylesheet" href="../doc/vs.css">
    <script src="../doc/highlight.pack.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
</head>

<body>
    <h1>com.innovaphone.replicator</h1>

    <p>
        The com.innovaphone.replicator api enables apps to replicate entries into the database of the contacts app.
    </p>

    <h2>Messages</h2></a>
    <a href="#ReplicationStart" style="text-decoration:none;">ReplicationStart</a><br />
    <a href="#ReplicationUpdate" style="text-decoration:none;">ReplicationUpdate</a><br />
    <a href="#ReplicationStop" style="text-decoration:none;">ReplicationStop</a><br />
    <a href="#ReplicationAbort" style="text-decoration:none;">ReplicationAbort</a><br />

    <!--Message-->
    <a name="ReplicationStart"><h3>ReplicationStart</h3></a>
    <p>Initiates a session</p>
    <h4>Parameters</h4>
    <table style="margin-left:-12px">
        <tr><td class="param">string <b>url </b></td><td>A string designator for this replicator's set of contact entries.</td></tr>
        <tr><td class="param">boolean <b>hasExtAnchor </b></td><td>Indicate whether entries contain a unique, static external anchor. Alike a guid, uuid or database id (must be 'true' currently).</td></tr>
    </table>
    <pre>
    <code class="javascript">
            {"mt":"ReplicatorAPI","src":"src-01", 
                "apimsg":{
                    "mt":"ReplicationStart", 
                    "url":"test-url", 
                    "hasExtAnchor":true
                }
            }
        </code>
    </pre>

    <h3>ReplicationStartResult</h3>
    <p>
        The result message for the ReplicationStart request.
    </p>
    <h4>Parameters</h4>
    <table style="margin-left:-12px">
        <tr><td class="param">string <b>error </b></td><td>An error string if an error happened (optional).</td></tr>
    </table>
    <pre>
    <code class="javascript">
            {"mt":"ReplicationApi","src":"src-01","apimsg":{"mt":"ReplicationStartResult"}}
        </code>
    </pre>

    <!--Message-->
    <a name="ReplicationUpdate"><h3>ReplicationUpdate</h3></a>
    <p>Transmits an entry towards the contacts database</p>
    <h4>Parameters</h4>
    <table style="margin-left:-12px">
        <tr><td class="param">array <b>attrs </b></td><td>An array of objects, each carrying a tuple of attribute, value</td></tr>
        <tr><td class="param">string <b>a </b></td><td>The name of an attribute</td></tr>
        <tr><td class="param">string <b>v </b></td><td>The value of an attribute</td></tr>
    </table>
    <pre>
    <code class="javascript">
			{"mt":"ReplicatorAPI","src":"src-02", "apimsg":{"mt":"ReplicationUpdate",
				"attrs":
				[
					{ "a": "sn", "v": "Replicator" },
					{ "a": "givenName", "v": "Ronald" },
					{ "a": "company", "v": "Smith Corp" },
					{ "a": "street", "v": "Arlington Blvd 1" },
					{ "a": "city", "v": "Munich" },
					{ "a": "postalCode", "v": "89000" },
					{ "a": "telephoneNumber", "v": "+49891234567" },
					{ "a": "mobile", "v": "+491561234567" },
					{ "a": "homePhone", "v": "+493361234567" },
					{ "a": "description", "v": "Info für Ron" },
					{ "a": "sip", "v": "ron.rep@smithcorp.com" },
					{ "a": "extAnchor", "v": "2" }
				]
			}}
        </code>
    </pre>

    <h3>ReplicationUpdateResult</h3>
    <p>
        The result message for the ReplicationUpdate request.
    </p>
    <h4>Parameters</h4>
    <table style="margin-left:-12px">
        <tr><td class="param">string <b>error </b></td><td>An error string if an error happened (optional).</td></tr>
    </table>
    <pre>
    <code class="javascript">
            {"mt":"ReplicationApi","src":"src-02","apimsg":{"mt":"ReplicationUpdateResult"}}
        </code>
    </pre>

    <!--Message-->
    <a name="ReplicationStop"><h3>ReplicationStop</h3></a>
    <p>Indicates the final entry has been sent. Entries not being presented to the database will be removed.</p>
    <h4>Parameters</h4>
    <table style="margin-left:-12px">
    </table>
    <pre>
    <code class="javascript">
            {"mt":"ReplicatorAPI","src":"src-03", "apimsg":{"mt":"ReplicationStop"}}
        </code>
    </pre>

    <h3>ReplicationStopResult</h3>
    <p>
        The result message for the ReplicationStop request.
    </p>
    <h4>Parameters</h4>
    <table style="margin-left:-12px">
        <tr><td class="param">string <b>error </b></td><td>An error string if an error happened (optional).</td></tr>
    </table>
    <pre>
    <code class="javascript">
            {"mt":"ReplicationApi","src":"src-03","apimsg":{"mt":"ReplicationStopResult"}}
        </code>
    </pre>

    <!--Message-->
    <a name="ReplicationAbort"><h3>ReplicationAbort</h3></a>
    <p>Indicates an abnormal termination due to some external error. No further write operations occur to the database.</p>
    <h4>Parameters</h4>
    <table style="margin-left:-12px">
    </table>
    <pre>
    <code class="javascript">
            {"mt":"ReplicatorAPI","src":"src-04", "apimsg":{"mt":"ReplicationAbort"}}
        </code>
    </pre>

    <h3>ReplicationAbortResult</h3>
    <p>
        The result message for the ReplicationAbort request.
    </p>
    <h4>Parameters</h4>
    <table style="margin-left:-12px">
        <tr><td class="param">string <b>error </b></td><td>An error string if an error happened (optional).</td></tr>
    </table>
    <pre>
    <code class="javascript">
            {"mt":"ReplicationApi","src":"src-04","apimsg":{"mt":"ReplicationAbortResult"}}
        </code>
    </pre>

</body>
</html>
