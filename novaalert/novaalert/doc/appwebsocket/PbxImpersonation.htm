<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title>innovaphone SDK - PbxImpersonation API</title>
    <link rel="stylesheet" href="../../web1/doc/innovaphone.doc.css" type="text/css" />
    <link rel="stylesheet" href="../../web1/doc/vs.css">
    <script src="../../web1/doc/highlight.pack.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
</head>

<body>
    <h1>PbxImpersonation</h1>

    <p>
        The PbxImpersonation API allows to use other APIs in behalf of a specified user, with the login
        of the App Service. It is available for the following APIs:
        <ul>
            <li>PbxApi</li>
            <li>PbxSignal</li>
            <li>EpSignal</li>
        </ul>
    </p>

    <a name="General structure"><h2>General structure</h2></a>

    <pre><code class="json">{
    "api": "PbxImpersonation",
    "src": string,
    "mt": string
}</code></pre><br />

    <dl>
        <dt>api</dt>
        <dd>
            To address this interface the value "PbxImpersonation" has to be used for the api property
        </dd>
        <dt>src</dt>
        <dd>
            The AppWebsocket src mechanism is supported on the interface. So a src
            property may be used
        </dd>
        <dt>mt</dt>
        <dd>
            The message type identifies the requested operation
        </dd>
    </dl>

    <a name="General structure"><h2>Operations</h2></a>

    <a name="CreateApi"><h2>CreateApi</h2></a>

    <p>
        This operation allows to create an api property, which can be used to address the target API
        as the given user. For this the user must be identified with a sip property and the target
        API with a target property.
    </p>
    <p>
        Request message
    </p>
    <pre><code class="json">{
    "api": "PbxImpersonation",
    "src": string,
    "mt": "CreateApi",
    "sip": string,
    "target": string
}</code></pre><br />
    <dl>
        <dt>sip</dt>
        <dd>The name of the user object on which behalf the target API shall be used</dd>
        <dt>target</dt>
        <dd>The target api. E.g. "PbxApi"</dd>
    </dl>
    <p>
        Result message
    </p>
    <pre><code class="json">{
    "api": "PbxImpersonation",
    "src": string,
    "mt": "CreateApiResult",
    "target": string
}</code></pre><br />
    <dl>
        <dt>target</dt>
        <dd>The value to be used as api property for message to the target API</dd>
    </dl>

    <a name="DeleteApi"><h2>DeleteApi</h2></a>

    <p>
        This operation allows to delete an api property, that was previously created with
        the <a href="#CreateApi">CreateApi</a> operation.
    </p>
    <p>
        Request message
    </p>
    <pre><code class="json">{
    "api": "PbxImpersonation",
    "src": string,
    "mt": "DeleteApi",
    "target": string
}</code></pre><br />
    <dl>
        <dt>target</dt>
        <dd>The target api. E.g. "PbxApi.0"</dd>
    </dl>
    <p>
        Result message
    </p>
    <pre><code class="json">{
    "api": "PbxImpersonation",
    "src": string,
    "mt": "DeleteApiResult",
    "ok": bool
}</code></pre><br />
    <dl>
        <dt>ok</dt>
        <dd>True, if the specified target was found and the api property has been deleted.</dd>
    </dl>
</body>
</html>
