<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title>innovaphone SDK - Config</title>
    <link rel="stylesheet" href="../../web1/doc/innovaphone.doc.css" type="text/css" />
    <link rel="stylesheet" href="../../web1/doc/vs.css">
    <script src="../../web1/doc/highlight.pack.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
</head>

<body>
    <h1>Config</h1>
    <p>
        This document describes the Config object in the JavaScript environment for app serivices.
    </p>
    <h2>Table of content</h2>
    <table>
        <tr>
            <td><b>Object</b></td>
            <td><b><a href="#Config">Config</a></b><br /></td>
        </tr>
        <tr>
            <td><b>Functions</b></td>
            <td>
                <a href="#onchanged">onchanged</a><br />
                <a href="#save">save</a><br />
                <br />
            </td>
        </tr>
        <tr>
            <td><b>Examples</b></td>
            <td>
                <a href="#Example-read">Reading config values</a><br />
                <a href="#Example-save">Changing config values</a><br />
                <a href="#Example-onchanged">Get notified about config changes</a><br />
                <br />
            </td>
        </tr>
    </table>

    <h2><a name="Config">Config</a></h2>
    <dd>
        The config object contains the current values of all config items, as defined in the <a href="../appgeneric.htm#2-2">config.json</a>.
    </dd>

    <a name="onchanged"><div class="fnhead" style="margin-top:5px">onchanged</div></a>
    <dd>
        Registers a callback function that is invoked when the config has changed.
        <h4>Parameters</h4>
        <table style="margin-left:-12px">
            <tr><td class="param">function <b>callback</b>()</td><td>Called whenever the config has changed.</td></tr>
        </table>
        <h4>Return value</h4>
        <table style="margin-left:-12px">
            <tr><td class="param"><a href="#Config">Config</a></td><td>A reference to the object itself. Useful for method chaining.</td></tr>
        </table>
    </dd>

    <a name="save"><div class="fnhead" style="margin-top:5px">save</div></a>
    <dd>
        Writes the current config to the database.
        <h4>Return value</h4>
        <table style="margin-left:-12px">
            <tr><td class="param"><a href="#Config">Config</a></td><td>A reference to the object itself. Useful for method chaining.</td></tr>
        </table>
    </dd>

    <h2>Examples</h2>
    <h3><a name="Example-read">Reading config values</a></h3>
    <pre><code class="JS">var token = Config.token;</code></pre>

    <h3><a name="Example-save">Changing config values</a></h3>
    <pre><code class="JS">Config.token = "xxxx";
Config.save();</code></pre>

    <h3><a name="#Example-onchanged">Get notified about config changes</a></h3>
    <pre><code class="JS">Config.onchanged(function() {
    // config has changed, read new values
});</code></pre>

</body>
</html>
